{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Grid,Paper,Typography,List,ListItem,ListItemText,Divider}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[todayAppointments,setTodayAppointments]=useState([]);const[stats,setStats]=useState({totalPatients:0,todayAppointments:0,upcomingAppointments:0});useEffect(()=>{const fetchData=async()=>{try{// Fetch today's appointments\nconst today=new Date();const response=await fetch(\"http://localhost:5000/api/appointments/date/\".concat(today.toISOString()));const todayData=await response.json();console.log('Today\\'s appointments:',todayData);setTodayAppointments(todayData);// Fetch total patients\nconst patientsResponse=await fetch('http://localhost:5000/api/patients');const patientsData=await patientsResponse.json();// Fetch upcoming appointments\nconst upcomingResponse=await fetch('http://localhost:5000/api/appointments/upcoming');const upcomingData=await upcomingResponse.json();console.log('Upcoming appointments:',upcomingData);setStats({totalPatients:patientsData.length,todayAppointments:todayData.length,upcomingAppointments:upcomingData.length});}catch(error){console.error('Error fetching dashboard data:',error);}};fetchData();},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Dashboard\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Total Patients\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:stats.totalPatients})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Today's Appointments\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:stats.todayAppointments})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Upcoming Appointments\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:stats.upcomingAppointments})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Today's Schedule\"}),/*#__PURE__*/_jsxs(List,{children:[todayAppointments.map((appointment,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(appointment.time,\" - \").concat(appointment.patient.firstName,\" \").concat(appointment.patient.lastName),secondary:\"\".concat(appointment.type,\" - \").concat(appointment.duration,\" minutes\")})}),index<todayAppointments.length-1&&/*#__PURE__*/_jsx(Divider,{})]},appointment._id)),todayAppointments.length===0&&/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"No appointments scheduled for today\"})})]})]})})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Paper","Typography","List","ListItem","ListItemText","Divider","jsx","_jsx","jsxs","_jsxs","Dashboard","todayAppointments","setTodayAppointments","stats","setStats","totalPatients","upcomingAppointments","fetchData","today","Date","response","fetch","concat","toISOString","todayData","json","console","log","patientsResponse","patientsData","upcomingResponse","upcomingData","length","error","children","variant","gutterBottom","container","spacing","item","xs","md","sx","p","map","appointment","index","Fragment","primary","time","patient","firstName","lastName","secondary","type","duration","_id"],"sources":["/home/amrj/project/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Grid,\n  Paper,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Divider,\n} from '@mui/material';\n\nfunction Dashboard() {\n  const [todayAppointments, setTodayAppointments] = useState([]);\n  const [stats, setStats] = useState({\n    totalPatients: 0,\n    todayAppointments: 0,\n    upcomingAppointments: 0,\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch today's appointments\n        const today = new Date();\n        const response = await fetch(\n          `http://localhost:5000/api/appointments/date/${today.toISOString()}`\n        );\n        const todayData = await response.json();\n        console.log('Today\\'s appointments:', todayData);\n        setTodayAppointments(todayData);\n\n        // Fetch total patients\n        const patientsResponse = await fetch('http://localhost:5000/api/patients');\n        const patientsData = await patientsResponse.json();\n\n        // Fetch upcoming appointments\n        const upcomingResponse = await fetch('http://localhost:5000/api/appointments/upcoming');\n        const upcomingData = await upcomingResponse.json();\n        console.log('Upcoming appointments:', upcomingData);\n\n        setStats({\n          totalPatients: patientsData.length,\n          todayAppointments: todayData.length,\n          upcomingAppointments: upcomingData.length,\n        });\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <Container>\n      <Typography variant=\"h4\" gutterBottom>\n        Dashboard\n      </Typography>\n\n      <Grid container spacing={3}>\n        {/* Stats Cards */}\n        <Grid item xs={12} md={4}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Total Patients\n            </Typography>\n            <Typography variant=\"h4\">{stats.totalPatients}</Typography>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} md={4}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Today's Appointments\n            </Typography>\n            <Typography variant=\"h4\">{stats.todayAppointments}</Typography>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} md={4}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Upcoming Appointments\n            </Typography>\n            <Typography variant=\"h4\">{stats.upcomingAppointments}</Typography>\n          </Paper>\n        </Grid>\n\n        {/* Today's Appointments */}\n        <Grid item xs={12}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Today's Schedule\n            </Typography>\n            <List>\n              {todayAppointments.map((appointment, index) => (\n                <React.Fragment key={appointment._id}>\n                  <ListItem>\n                    <ListItemText\n                      primary={`${appointment.time} - ${appointment.patient.firstName} ${appointment.patient.lastName}`}\n                      secondary={`${appointment.type} - ${appointment.duration} minutes`}\n                    />\n                  </ListItem>\n                  {index < todayAppointments.length - 1 && <Divider />}\n                </React.Fragment>\n              ))}\n              {todayAppointments.length === 0 && (\n                <ListItem>\n                  <ListItemText primary=\"No appointments scheduled for today\" />\n                </ListItem>\n              )}\n            </List>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}